
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Shell Scripting Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../eddie.html" />
    
    
    <link rel="prev" href="monitoring.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../login/">
            
                <a href="../login/">
            
                    
                    Login
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../login/login_geosci_windows_cli.html">
            
                <a href="../login/login_geosci_windows_cli.html">
            
                    
                    Command Line - GeoSciences Windows
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../login/login_personal_windows_cli.html">
            
                <a href="../login/login_personal_windows_cli.html">
            
                    
                    Command Line - Personal Windows
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../login/login_personal_mac_linux_cli.html">
            
                <a href="../login/login_personal_mac_linux_cli.html">
            
                    
                    Command Line - Personal Mac
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../login/login_geosci_windows_gui.html">
            
                <a href="../login/login_geosci_windows_gui.html">
            
                    
                    GUI - GeoSciences Windows
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../login/login_personal_windows_mac_linux_gui.html">
            
                <a href="../login/login_personal_windows_mac_linux_gui.html">
            
                    
                    GUI - Personal Windows, Mac, Linux
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../login/network_windows.html">
            
                <a href="../login/network_windows.html">
            
                    
                    Adding a Network Drive - Personal Windows
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="../login/network_mac.html">
            
                <a href="../login/network_mac.html">
            
                    
                    Adding a Network Drive - Personal Mac
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../basics/">
            
                <a href="../basics/">
            
                    
                    Basics
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../basics/bash_prompt.html">
            
                <a href="../basics/bash_prompt.html">
            
                    
                    Bash Prompt
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../basics/change_dir.html">
            
                <a href="../basics/change_dir.html">
            
                    
                    Changing Directories
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../basics/make_file_dir.html">
            
                <a href="../basics/make_file_dir.html">
            
                    
                    Creating Files and Directories
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../basics/move_file_dir.html">
            
                <a href="../basics/move_file_dir.html">
            
                    
                    Moving, Copying Files and Directories
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../shared_scratch/">
            
                <a href="../shared_scratch/">
            
                    
                    Shared and Temporary Data
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../shared_scratch/shared.html">
            
                <a href="../shared_scratch/shared.html">
            
                    
                    Shared Spaces
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../shared_scratch/scratch.html">
            
                <a href="../shared_scratch/scratch.html">
            
                    
                    Scratch Space
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../files/">
            
                <a href="../files/">
            
                    
                    Editing and Manipulating Files
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../files/editors_pagers.html">
            
                <a href="../files/editors_pagers.html">
            
                    
                    Editors and Pagers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../files/pipes.html">
            
                <a href="../files/pipes.html">
            
                    
                    Pipes and Redirects
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../dl_manip/">
            
                <a href="../dl_manip/">
            
                    
                    Downloading and Manipulating Files
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../dl_manip/dl_ftp.html">
            
                <a href="../dl_manip/dl_ftp.html">
            
                    
                    Downloading over FTP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../dl_manip/dl_wget_curl.html">
            
                <a href="../dl_manip/dl_wget_curl.html">
            
                    
                    Downloading using curl and wget
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../dl_manip/print.html">
            
                <a href="../dl_manip/print.html">
            
                    
                    Printing files
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../dl_manip/zip_tar.html">
            
                <a href="../dl_manip/zip_tar.html">
            
                    
                    Compressing .zip and .tar Files
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="./">
            
                <a href="./">
            
                    
                    Managing Processes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="background.html">
            
                <a href="background.html">
            
                    
                    Background Processes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="monitoring.html">
            
                <a href="monitoring.html">
            
                    
                    Monitoring Processes
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.7.3" data-path="shell.html">
            
                <a href="shell.html">
            
                    
                    Shell Scripting
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../eddie.html">
            
                <a href="../eddie.html">
            
                    
                    Even More Power with eddie
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../quicklook.html">
            
                <a href="../quicklook.html">
            
                    
                    Quicklook Table
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Shell Scripting</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="shell-scripting">Shell scripting</h1>
<p>As you start to learn terminal commands and do more computing in the Linux environment you may find that you perform the same set of actions over and over. For example, if you get regular data files sent to you from some distant fieldsite, you may want to manipulate that data in the same way every time. Shell scripting allows you to save a set of commands for later use. Let&apos;s make a script that allows us to <code>grep</code> for lines containing a given word in the <code>nation_data.txt</code> file and any other file in the future. <code>cd</code> to the <code>home</code> directory and open the <code>nano</code> text editor:</p>
<pre><code>cd

nano
</code></pre><p>Shell scripts should always start with the following code, also known as a &quot;shebang&quot;:</p>
<pre><code>#!/bin/bash
</code></pre><p>This tells the operating system that we are using the <code>bash</code> language, which is the language we have been using this whole time to interact with the Linux server! Google if you are interested in learning more about <code>bash</code>.</p>
<p>Copy the following into nano to create a script that look like this:</p>
<pre><code>#!/bin/bash

ls

read -p &apos;File name to search through: &apos; file_name

read -p &apos;Word to search for: &apos; word_name

cat $file_name | grep $word_name | less
</code></pre><p>On the line after the shebang we have asked to show the files in the current directory using <code>ls</code>.</p>
<p>Then on the next line we use <code>read -p</code> to prompt the user for the name of a file from that list of files.</p>
<p>On the next line we prompt the user for a word that they want to search for.</p>
<p>And finally we include all these variables into a command that searches our nominated file for our nominated word and display it in <code>less</code>. The variables we created earlier in the script (<code>word_name</code>, <code>file_name</code>) can be called later in the script by prefixing their name with a <code>$</code> (<code>$word_name</code>, <code>$file_name</code>)</p>
<p>Save the file to <code>~/grep_file.sh</code>. The <code>.sh</code> file extension stands for <code>sh</code>ell.</p>
<p>To get the script to run as a script and not just a text file we need to make it &quot;executable&quot;.</p>
<p>In the terminal type:</p>
<pre><code>chmod +x ~/grep_file.sh
</code></pre><p>To test that the script works, <code>cd</code> into the <code>wkzero</code> directory:</p>
<pre><code>cd ~/linux_intro/downloads/wkzero
</code></pre><p>Then enter:</p>
<pre><code>~/./grep_file.sh
</code></pre><p>First, the script should <code>ls</code> the current directory, then ask for us to nominate a file, then for a word to <code>grep</code> for. Finally, this should output all the lines containing our nominated word into <code>less</code>.</p>
<p>Note that when I called the shell script I had to prefix the script name (<code>grep_file.sh</code>) with <code>./</code>, this is a finicky requirement for all user made scripts. If you really want to know why this is necessary, read <a href="http://www.linfo.org/dot_slash.html" target="_blank">this</a> and <a href="https://www.stackoverflow.com/q/6331075/5622415" target="_blank">this</a>. Warning, very dense and potentially boring.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="monitoring.html" class="navigation navigation-prev " aria-label="Previous page: Monitoring Processes">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../eddie.html" class="navigation navigation-next " aria-label="Next page: Even More Power with eddie">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Shell Scripting","level":"1.7.3","depth":2,"next":{"title":"Even More Power with eddie","level":"1.8","depth":1,"path":"eddie.md","ref":"eddie.md","articles":[]},"previous":{"title":"Monitoring Processes","level":"1.7.2","depth":2,"path":"process/monitoring.md","ref":"process/monitoring.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["livereload"],"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"process/shell.md","mtime":"2017-11-19T20:21:05.219Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2017-11-20T17:55:29.344Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

